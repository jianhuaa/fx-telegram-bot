name: G8 FX Telegram Feed

# Triggers: every 30 minutes Mon-Fri, or manually via the Actions tab
on:
  schedule:
    - cron: '*/30 * * * 1-5'
  workflow_dispatch:

jobs:
  fx_feed:
    runs-on: ubuntu-latest

    steps:
      # 1. Pull the latest code from your repository
      - name: Checkout repo
        uses: actions/checkout@v3

      # 2. Set up the Python environment (using 3.10 for stability)
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      # 3. Install necessary libraries
      # - selenium: for web automation
      # - requests: for Telegram API calls
      # - webdriver-manager: to automatically handle the Chrome driver
      # - selenium-stealth: to bypass Investing.com bot detection
      - name: Install Python dependencies
        run: |
          python -m pip install --upgrade pip
          pip install selenium requests beautifulsoup4 webdriver-manager selenium-stealth

      # 4. Execute the script
      # This will run fx_feed.py and send the message to your Telegram channel
      - name: Run FX Feed Script
        run: python fx_feed.py
